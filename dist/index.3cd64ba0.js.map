{"mappings":"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","sources":["src/JS/script.js"],"sourcesContent":["// INTERFAZ 1 Y 2\nvar semestersData ={\n  \"23241\":{\n    numSemester:1,\n    year:\"23/24\",\n    dateStart:\"\",\n    dateEnd:\"\",\n    color:\"#33aaff\",\n    description:\"El semestre más importante\",\n    opinion:\"Me encanta\",\n    difficulty:1\n  },\n  \"23242\":{\n    numSemester:2,\n    year:\"23/24\",\n    dateStart:\"\",\n    dateEnd:\"\",\n    color:\"#CCCCCC\",\n    description:\"El semestre más importante\",\n    opinion:\"Me encanta\",\n    \"difficulty\":3\n  }\n};\n\nfunction emptySemesters() {\n  $(\"#semester-list\").empty();\n}\n\nfunction drawSemesters(semesters) {\n  // Vaciamos el HTML de Semestres\n  emptySemesters();\n  // Insertamos las cards de semestre\n  $.each(semesters, function (index, semester) {\n    drawSemester(index, semester);\n  });\n}\n\n// Función para pintar el card del semestre\nfunction drawSemester(index, semester) {\n  // Construimos el card del semestre\n  $(\n    '<div class=\"margen-top-lg col-sm-4\" id=\"' +\n      index +\n      '\"><div class=\"card\" style=\"width: 18rem;\"><div class=\"card-body\"><h5 class=\"card-title\" style=\"background-color:' +\n      semester.color +\n      '\">Semestre ' +\n      semester.numSemester +\n      \" del curso \" +\n      semester.year +\n      '</h5><div class=\"padding-sm\"><p class=\"card-text\">Fecha inicio: ' +\n      semester.dateStart +\n      \"</br>Fecha fin: \" +\n      semester.dateEnd +\n      \"</br>Descripción: \" +\n      semester.description +\n      \"</br>Opinión: \" +\n      semester.opinion +\n      \"</br>Dificultad: \" +\n      semester.difficulty +\n      '</p><a href=\"#\" class=\"btn btn-primary\" id=\"añadir\" onclick=\"drawModalSemester(' +\n      index +\n      ')\">editar<a href=\"interfaz_3.html\" class=\"btn btn-primary\" id=\"añadir\" onclick=\"drawModalSemester(' +\n      index +\n      ')\">Ver</a><button class=\"btn btn-danger\" id=\"eliminar\" onclick=\"eliminar(' +\n      index +\n      ')\"><i class=\"fas fa-trash\"></i></button></div></div></div></div>'\n  ).appendTo(\"#semester-list\");\n}\n\n// Función para pintar el modal con el formulario\nfunction drawModalSemester(index) {\n  // Inicializamos valores del formulario\n  var semester = new Object();\n  semester.numSemester = \"\";\n  semester.year = \"\";\n  semester.dateStart = \"\";\n  semester.dateEnd = \"\";\n  semester.color = \"#cccccc\";\n  semester.description = \"\";\n  semester.opinion = \"\";\n  semester.difficulty = \"\";\n  var title = \"Añadir \";\n\n  // Si viene definido un índice de semestre, cargamos los datos en el formulario\n  if (index && typeof semestersData[index] != \"undefined\") {\n    semester = semestersData[index];\n    title = \"Ver/Editar \";\n  }\n\n  // Preparamos las opciones de los elementos del formulario\n  var selected = \"\";\n  // SELECCIÓN DE SEMESTRE\n  var options_numSemester = \"\";\n  for (var i = 1; i < 3; i++) {\n    selected = \"\";\n    if (i == semester.numSemester) {\n      selected = \"selected\";\n    }\n    options_numSemester +=\n      \"<option value=\" + i + \" \" + selected + \">\" + i + \"</option>\";\n  }\n  // SELECCIÓN AÑO\n  var options_year = \"\";\n  for (\n    var i = new Date().getFullYear();\n    i < new Date().getFullYear() + 10;\n    i++\n  ) {\n    selected = \"\";\n    if (i == semester.year) {\n      selected = \"selected\";\n    }\n    options_year +=\n      \"<option value=\" + i + \" \" + selected + \">\" + i + \"</option>\";\n  }\n\n  // BARRA DE DIFICULTAD\n  document.addEventListener(\"DOMContentLoaded\", function () {\n    const currentValue = document.getElementById(\"current-value\");\n    const dificultad = document.getElementById(\"dificultad\");\n\n    currentValue.textContent = dificultad.value; // Inicializamos el valor actual con 5\n\n    dificultad.addEventListener(\"input\", function () {\n      currentValue.textContent = dificultad.value;\n    });\n  });\n\n  // Preparamos HTML de cada campo del formulario\n  var field_numSemester =\n    '<select class=\"form-select\" id=\"numSemester\" name=\"numSemester\" aria-label=\"Default select example\"><option selected>Selecciona un semestre</option>' +\n    options_numSemester +\n    '</select><label for=\"floatingSelect\">Semestre</label>';\n  var field_year =\n    '<select class=\"form-select\" id=\"year\" name=\"year\" aria-label=\"Default select example\"><option selected>Selecciona un año</option>' +\n    options_year +\n    '</select><label for=\"floatingSelect\">Año</label>';\n  var field_dateStart =\n    '<input type=\"date\" class=\"form-control\" id=\"dateStart\" name=\"dateStart\" placeholder=\"Fecha de Inicio\" value=\"' +\n    semester.dateStart +\n    '\"><label for=\"floatingInput\">Fecha de Inicio</label>';\n  var field_dateEnd =\n    '<input type=\"date\" class=\"form-control\" id=\"dateEnd\" name=\"dateEnd\" placeholder=\"Fecha de Fin\" value=\"' +\n    semester.dateEnd +\n    '\"><label for=\"floatingInput\">Fecha de Fin</label>';\n  var field_color =\n    '<label for=\"color\" class=\"form-label\" style=\"display: block; text-align: left;\">Color</label><input type=\"color\" class=\"form-control form-control-color\" id=\"color\" name=\"color\" value=\"' +\n    semester.color +\n    '\" title=\"Selecciona un color\">';\n  var field_description =\n    '<textarea class=\"form-control\" id=\"description\" name=\"description\" rows=\"4\">' +\n    semester.description +\n    '</textarea><label for=\"floatingInput\">Descripción</label>';\n  var field_opinion =\n    '<textarea class=\"form-control\" id=\"opinion\" name=\"opinion\" rows=\"4\">' +\n    semester.opinion +\n    '</textarea><label for \"floatingInput\">Opinión</label>';\n  var field_difficulty =\n    '<label for=\"dificultad\" class=\"form-label\" style=\"display: block; text-align: left;\">Dificultad</label><div class=\"d-flex justify-content-between\"><span id=\"min-value\">0</span><span id=\"max-value\">10</span></div><input type=\"range\" class=\"form-range\" min=\"0\" max=\"10\" step=\"1\" id=\"dificultad\" name=\"difficulty\"><p>Valor Actual: <span id=\"current-value\"></span></p>';\n\n  // Preparamos HTML del formulario con los campos\n  var formHtml =\n    '<div class=\"modal fade\" id=\"modal-semestre\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\"><div class=\"modal-dialog\"><div class=\"modal-content\"><div class=\"modal-header\"><h1 class=\"modal-title fs-5\" id=\"exampleModalLabel\">' +\n    title +\n    ' semestre</h1><button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button></div><form id=\"semestre-form\" class=\"needs-validation\"><div class=\"modal-body\"><div class=\"form-floating mb-3\">' +\n    field_numSemester +\n    '</div><div class=\"form-floating\">' +\n    field_year +\n    '</div><br><div class=\"form-floating mb-3\">' +\n    field_dateStart +\n    '</div><div class=\"form-floating mb-3\">' +\n    field_dateEnd +\n    '</div><div class=\"form-floating mb-3\">' +\n    field_description +\n    '</div><div class=\"mb-3\">' +\n    field_color +\n    '</div> <div class=\"form-floating mb-3\">' +\n    field_opinion +\n    '</div><div class=\"mb-3\">' +\n    field_difficulty +\n    '</div></div><div class=\"modal-footer\"><button type=\"submit\" class=\"btn btn-primary\">Guardar</button></div></form></div></div></div>';\n\n  // Borramos el formulario si existe y lo insertamos en el DOM\n  $(\"#modal-semestre\").remove();\n  $(formHtml).appendTo(\"#semester-list\");\n\n  // Añadimos el listener al evento de enviar el formulario para validar\n  var form = document.getElementById(\"semestre-form\");\n  form.addEventListener(\n    \"submit\",\n    function (event) {\n      // Validamos el formulario\n      if (!form.checkValidity()) {\n        // Si no valida, detenemos la acción\n        event.preventDefault();\n        event.stopPropagation();\n      }\n\n      // Si valida, añadimos campos validados\n      form.classList.add(\"was-validated\");\n\n      // Recogemos los datos del formulario\n      var values = {};\n      $.each($(\"#semestre-form\").serializeArray(), function (i, field) {\n        values[field.name] = field.value;\n      });\n\n      // Guardamos el semestre en el objeto semesters\n      var newIndice = values[\"year\"] + values[\"numSemester\"];\n      if (typeof semestersData[newIndice] == \"undefined\") {\n        semestersData[newIndice] = new Object();\n      }\n      semestersData[newIndice].numSemester = values[\"numSemester\"];\n      semestersData[newIndice].year = values[\"year\"];\n      semestersData[newIndice].dateStart = values[\"dateStart\"];\n      semestersData[newIndice].dateEnd = values[\"dateEnd\"];\n      semestersData[newIndice].color = values[\"color\"];\n      semestersData[newIndice].description = values[\"description\"];\n      semestersData[newIndice].opinion = values[\"opinion\"];\n      semestersData[newIndice].difficulty = values[\"difficulty\"];\n\n      // Volvemos a dibujar las semestres\n      drawSemesters(semestersData);\n\n      // Cerrará el modal\n      event.preventDefault();\n      event.stopPropagation();\n      $(\"#modal-semestre\").modal(\"hide\");\n      $(\".modal-backdrop.show\").remove();\n    },\n    false\n  );\n\n  // Abrimos el modal\n  $(\"#modal-semestre\").modal(\"show\");\n}\n//----------------------------------------------------------------------------------------------------------------------\nfunction eliminar(index) {\n  // Eliminar semestre\n  if (confirm(\"¿Quieres eliminar el semestre?\")) {\n    $(\"#\" + index).remove();\n  } else {\n    alert(\"No se ha eliminado el semestre\");\n  }\n}\n\nfunction drawSelectSemester(semesters, selected = null) {\n  // seleccionamos el select\n  var selectSemestre = $(\"#select-semestre\");\n  let searchParams = new URLSearchParams(window.location.search);\n  // comprobamos si existe el select\n  if (selectSemestre) {\n    // borramos las opciones\n    $(\"#select-semestre option\").remove();\n    // insertamos semestres\n    $.each(semesters, function (index, semester) {\n      selectSemestre.append(\n        $(\"<option>\", {\n          value: index,\n          text: semester.year + \" - \" + semester.numsemester,\n          selected: selected == index ? true : false\n        })\n      );\n    });\n    // si hay definida la variable de la semestre en la url la seteamos por defecto\n    if (searchParams.has(\"yearsemester\")) {\n      $(\"#select-semestre\").val(searchParams.get(\"yearsemester\"));\n    }\n    // seleccionamos la primera semestre por defecto si ninguna esta seleccionada\n    if (!$(\"#select-semestre\").val()) {\n      $(\"#select-semestre\").val($(\"#select-semestre option:first\").val());\n    }\n  }\n}\n\n$(document).ready(function () {\n  // coge los datos de semestres e inserta las cards de semestres en el DOM\n  drawSemesters(semestersData);\n  drawSelectsemester(semestersData);\n});\n"],"names":[],"version":3,"file":"index.3cd64ba0.js.map","sourceRoot":"/__parcel_source_root/"}